<div class="w-full md:w-96 bg-white border-l border-slate-200 flex flex-col h-screen sticky top-0 shadow-xl">
  
  <div class="p-6 border-b border-slate-100">
    <div class="flex items-center space-x-3">
      <svg class="w-6 h-6 text-slate-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
      </svg>
      <h2 class="text-xl font-bold text-slate-800">Order Summary</h2>
    </div>
    <p class="text-slate-400 text-sm mt-1">{{ cartService.getCartItems().length }} items in cart</p>
  </div>

  <div class="flex-1 overflow-y-auto p-4 space-y-4">
    <div *ngFor="let item of cartService.getCartItems(); let i = index" 
         class="flex bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition">
      <img class="w-24 h-24 object-cover" [src]="item.image" [alt]="item.name" />
      
      <div class="p-3 flex flex-col justify-between flex-1">
        <div>
          <h3 class="font-bold text-slate-800 text-sm">{{ item.name }}</h3>
          <p class="text-orange-600 font-bold text-sm">Rs. {{ item.price }}</p>
        </div>
        <div class="flex justify-end">
          <button (click)="cartService.removeItem(i)" class="text-xs text-red-500 hover:bg-red-50 font-medium px-2 py-1 rounded">
            Delete
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="cartService.getCartItems().length === 0" class="text-center py-10 text-slate-400">
      Your cart is empty
    </div>
  </div>

  <div class="p-6 bg-slate-50 rounded-t-[2.5rem] shadow-2xl">
    <div class="space-y-3 mb-6 text-sm">
      <div class="flex justify-between text-slate-600 font-medium">
        <span>Subtotal</span>
        <span>Rs. {{ total | number:'1.2-2' }}</span>
      </div>
      <div class="flex justify-between text-green-600 font-medium">
        <span>Discount (10%)</span>
        <span>-Rs. {{ total * 0.1 | number:'1.2-2' }}</span>
      </div>
      <div class="flex justify-between text-slate-600 font-medium">
        <span>Tax (8%)</span>
        <span>Rs. {{ total * 0.08 | number:'1.2-2' }}</span>
      </div>
      <div class="pt-3 border-t border-slate-200 flex justify-between text-2xl font-black text-slate-900">
        <span>Total</span>
        <span>Rs. {{ total | number:'1.2-2' }}</span>
      </div>
    </div>

    <button
      [disabled]="cartService.getCartItems().length === 0"
      [class.opacity-50]="cartService.getCartItems().length === 0"
      class="w-full bg-black hover:bg-slate-800 py-4 rounded-2xl text-white font-bold text-lg transition shadow-lg"
    >
      Confirm Payment
    </button>
  </div>
</div>